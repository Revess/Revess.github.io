<!-- TODO: Dropdown CSD projects, Wording, Navbar auto pushdown (only need to fix this), floating arrow-->

<!DOCTYPE html>
<html lang="en">
  <meta
    name="viewport"
    content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no shrink-to-fit=no"
  />
  <script src="https://code.jquery.com/jquery-3.1.0.js"></script>
  <script
    src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.11.0/umd/popper.min.js"
    integrity="sha384-b/U6ypiBEHpOf/4+1nzFpr53nxSS+GLCkfwBdFNTxtclqqenISfwAzpKaMNFNmj4"
    crossorigin="anonymous"
  ></script>
  <script src="https://unpkg.com/scrollreveal"></script>
  <script src="../../javascript/bootstrap.js"></script>
  <script src="https://cdn.jsdelivr.net/gh/google/code-prettify@master/loader/run_prettify.js"></script>

  <head>
    <link href="../../css/bootstrap.min.css" rel="stylesheet" />
    <link
      rel="stylesheet"
      href="https://use.fontawesome.com/releases/v5.8.1/css/all.css"
      integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf"
      crossorigin="anonymous"
    />
    <link
      rel="shortcut icon"
      type="image/png"
      href="../../assets/pictures/favicon.png"
    />
    <link href="../../css/style.css" rel="stylesheet" />
    <title>Bas Maat</title>
  </head>

  <body
    style="background: url('../../assets/pictures/code2.JPG'); background-size: cover;
  background-repeat: no-repeat;
  background-position: center center;
  background-attachment: fixed;
  height: 100%;
  max-width: 100%;"
  >
    <header class="fixed-top d-block" id="topNav">
      <nav
        class="navbar navbar-expand-lg navbar-dark navTrans"
        id="navBarTop"
        style="font-size: 1.2rem;"
      >
        <div class="d-flex flex-grow-1">
          <span class="w-100 d-lg-none d-block"
            ><!-- hidden spacer to center brand on mobile --></span
          >
          <a
            class="navbar-brand"
            href="../../index.html"
            style="font-size: 1.8rem;"
          >
            Bas Maat
          </a>
          <div class="w-100 text-right">
            <button
              class="navbar-toggler mt-2"
              type="button"
              data-toggle="collapse"
              data-target="#navBar"
            >
              <span class="navbar-toggler-icon"></span>
            </button>
          </div>
        </div>

        <div
          class="collapse navbar-collapse flex-grow-1 text-right"
          id="navBar"
        >
          <ul class="navbar-nav ml-auto flex-nowrap">
            <li class="nav-item">
              <a href="../../index.html#Home" class="nav-link" id="homeLink"
                >Home</a
              >
            </li>
            <li class="nav-item">
              <a href="../../index.html#About" class="nav-link" id="aboutLink"
                >About me</a
              >
            </li>
            <li class="nav-item">
              <a
                href="../../index.html#CSD"
                class="nav-link active"
                id="csdLink"
                >CSD</a
              >
            </li>
            <li class="nav-item">
              <a
                href="../../index.html#Composition"
                class="nav-link"
                id="compositionLink"
                >Composition</a
              >
            </li>
            <li class="nav-item">
              <a
                href="../../index.html#Contact"
                class="nav-link"
                id="contactLink"
                >Contact</a
              >
            </li>
          </ul>
        </div>
      </nav>
    </header>

    <main>
      <section id="FrontPage" class="pb-0">
        <div class="container d-flex h-100">
          <div class="row align-self-center w-100 mx-auto">
            <div
              class="col-12 text-center"
              style="background: rgba(0, 0, 0, 0.781); padding-bottom: 2rem; padding-top: 2rem; border-radius: 25px;"
              id="homeBox"
            >
              <img
                src="../../assets/pictures/RaspberryLogo.webp"
                alt="Image not available"
                class="img-thumbnail rounded"
                style="max-width: 10rem; border: none; background: none;"
              />
              <br />
              <h1
                class="text-light"
                style="font-size: 3rem; padding-bottom: 1.5rem;"
                id="homeText"
              >
                Theremin Pi
              </h1>
              <br />
            </div>
          </div>
        </div>
      </section>

      <section id="Tagline" class="pb-0 subSections">
        <div>
          <article id="topOfPage">
            <div class="container w-70">
              <div class="row w-100 mx-auto">
                <div class="col-12 text-center justify-content-center">
                  <h3 class="text-center pb-3" id="fadeTop">
                    Building a Theremin using the Raspberry Pi and a 3D
                    capacitive touch sensor.
                  </h3>
                  <div id="fadeRight">
                    <div
                      id="carouselExampleIndicators"
                      class="carousel slide w-70 justify-content-center"
                      data-pause="true"
                    >
                      <ol class="carousel-indicators">
                        <li
                          data-target="#carouselExampleIndicators"
                          data-slide-to="0"
                          class="active"
                        ></li>
                        <li
                          data-target="#carouselExampleIndicators"
                          data-slide-to="1"
                        ></li>
                        <li
                          data-target="#carouselExampleIndicators"
                          data-slide-to="2"
                        ></li>
                      </ol>
                      <div class="carousel-inner">
                        <div class="carousel-item active">
                          <div
                            style="width:100%;height:0px;position:relative;padding-bottom:56.250%;"
                          >
                            <iframe
                              src="https://streamable.com/s/yzpiu/lvgwfc"
                              frameborder="0"
                              width="100%"
                              height="100%"
                              allowfullscreen
                              style="width:100%;height:100%;position:absolute;left:0px;top:0px;overflow:hidden;"
                            ></iframe>
                          </div>
                        </div>
                        <div class="carousel-item">
                          <img
                            class="d-block"
                            style="max-width: 100%;"
                            src="../../assets/Pictures/rpiwithhat1.JPG"
                            alt="Responsive image"
                            class="img-fluid img-thumbnail rounded"
                            alt="IMG1"
                          />
                        </div>
                        <div class="carousel-item">
                          <img
                            class="d-block"
                            style="max-width: 100%;"
                            src="../../assets/Pictures/rpiwithhat2.JPEG"
                            alt="Responsive image"
                            class="img-fluid img-thumbnail rounded"
                            alt="IMG2"
                          />
                        </div>
                      </div>
                      <a
                        class="carousel-control-prev"
                        href="#carouselExampleIndicators"
                        role="button"
                        data-slide="prev"
                      >
                        <span
                          class="carousel-control-prev-icon"
                          aria-hidden="true"
                        ></span>
                        <span class="sr-only">Previous</span>
                      </a>
                      <a
                        class="carousel-control-next"
                        href="#carouselExampleIndicators"
                        role="button"
                        data-slide="next"
                      >
                        <span
                          class="carousel-control-next-icon"
                          aria-hidden="true"
                        ></span>
                        <span class="sr-only">Next</span>
                      </a>
                    </div>
                  </div>
                  <div class="lead" id="fadeLeft">
                    Difficulty level: 8/10; <br />
                  </div>
                  <div class="lead" id="fadeRight">Language: "C++";<br /></div>
                  <div class="lead" id="fadeLeft">Opensource: true;<br /></div>
                  <div class="lead" id="fadeRight">Cost: 60;<br /></div>
                  <h3 class="text-center pb-3 pt-5" id="fadeTop">
                    Preface
                  </h3>
                  <p class="lead">
                    In this project you will learn how to build a theremin using
                    a Raspberry Pi. This project is for people who already have
                    got some experience with c++, Makefiles and working with the
                    terminal. The project uses a 3D capacitive touch sensor to
                    register hand movement over the xyz axis above the sensor.
                    It is produces sound using the internal headphone jack and
                    the Jack 2 connection library. All the sounds are controlled
                    and being generated by using c++. The hand gestures are
                    being tracked by the sensor which is being read with the c++
                    library provided by the sensor developers.
                  </p>
                </div>
              </div>
            </div>
          </article>
          <!-- A spacer and a line for asiatic -->
          <div class="container w-100 justify-content-center">
            <svg style="width:100%;" height="100">
              <rect
                height="100"
                style="fill:rgba(0, 0, 0, 0);stroke:none; width:100%;"
              />
            </svg>
          </div>
          <div class="container w-100 justify-content-center" id="fadeTop">
            <svg style="width:100%;" height="2">
              <rect
                height="2"
                width="5000"
                style="fill:rgb(0, 0, 0);stroke:none;"
              />
            </svg>
          </div>
        </div>
      </section>

      <section id="PartsList" class="pb-0 subSections">
        <div>
          <article>
            <div class="container w-70">
              <div class="row w-100 mx-auto">
                <div class="col-12 text-center">
                  <h1 class="text-center pb-3" id="fadeRight">
                    Parts List
                  </h1>
                  <table class="table" id="fadeLeft">
                    <thread>
                      <tr>
                        <th>Part Name</th>
                        <th>Price</th>
                        <th>Where to buy</th>
                      </tr>
                    </thread>

                    <tbody>
                      <tr>
                        <td>Raspberry Pi</td>
                        <td>30 euro</td>
                        <td>
                          <a
                            target="_blank"
                            class="hyperlink"
                            href="https://www.kiwi-electronics.nl/raspberry-pi-model-b-plus-512mb?gclid=CjwKCAiAqt7jBRAcEiwAof2uK18F7qSLRjr5NvAuOJL2CTrwq1iSydt-QMQjRJX7hgPHlgkp9kmQ_BoCy3AQAvD_BwE"
                          >
                            kiwi-electronics.nl</a
                          >
                        </td>
                      </tr>
                      <tr>
                        <td>Flick3D Hat</td>
                        <td>22,5 euro</td>
                        <td>
                          <a
                            target="_blank"
                            class="hyperlink"
                            href="https://www.kiwi-electronics.nl/flick-hat"
                          >
                            kiwi-electronics.nl</a
                          >
                        </td>
                      </tr>
                      <tr>
                        <td>16GB SD card</td>
                        <td>5 euro</td>
                        <td>
                          <a
                            target="_blank"
                            class="hyperlink"
                            href="https://www.dataio.nl/sandisk-16gb-micro-sd-ultra-geheugenkaart-uhs-i-a1-adapter/?utm_campaign=SanDisk+16GB+micro+SD+ULTRA+geheugenkaart+UHS-I+A1+met+adapter&utm_content=&utm_source=googleshopping&utm_medium=cpc&utm_term=&gclid=CjwKCAiAqt7jBRAcEiwAof2uK2sWc3gP8qV8P8i6Q0A9SC_kHhB6YUj4f-m7lobEiGBgk1sV1w8nwhoCR8EQAvD_BwE"
                          >
                            dataio.nl</a
                          >
                        </td>
                      </tr>
                    </tbody>
                  </table>
                </div>
              </div>
            </div>
            <!-- A spacer and a line for asiatic -->
            <div class="container w-100 justify-content-center">
              <svg style="width:100%;" height="100">
                <rect
                  height="100"
                  style="fill:rgba(0, 0, 0, 0);stroke:none; width:100%;"
                />
              </svg>
            </div>
            <div class="container w-100 justify-content-center" id="fadeRight">
              <svg style="width:100%;" height="2">
                <rect
                  height="2"
                  width="5000"
                  style="fill:rgb(0, 0, 0);stroke:none;"
                />
              </svg>
            </div>
          </article>
        </div>
      </section>

      <section id="StepwisePlan" class="pb-0 subSections">
        <div>
          <article>
            <div class="container w-70">
              <div class="row w-100 mx-auto">
                <div class="col-12 text-center">
                  <h1 class="text-left pb-3" id="fadeTop">
                    Stepwise Plan
                  </h1>
                  <div class="lead" id="fadeLeft">
                    <div id="accordion" style="text-align: left;">
                      <div class="card" style="border: none; background: none;">
                        <div
                          class="card-header"
                          id="headingOne"
                          style="border: none; background: none;"
                        >
                          <h5 class="mb-0">
                            <hr style="background: rgba(255, 255, 255,0.25);" />
                            <button
                              type="button"
                              class="btn btn-primary btn-circle btn-lg float-left"
                              data-toggle="collapse"
                              data-target="#collapseOne"
                              aria-expanded="true"
                              aria-controls="collapseOne"
                            >
                              1
                            </button>
                            <div class="stepper-text">
                              Get the parts
                            </div>
                          </h5>
                        </div>
                        <div
                          id="collapseOne"
                          class="collapse show"
                          aria-labelledby="headingOne"
                          data-parent="#accordion"
                        >
                          <div class="card-body">
                            Buy the necessary parts from the
                            <a class="hyperlink" href="partslist.html"
                              >parts list</a
                            >
                          </div>
                        </div>
                      </div>

                      <div class="card" style="border: none; background: none;">
                        <div
                          class="card-header"
                          id="headingTwo"
                          style="border: none; background: none;"
                        >
                          <h5 class="mb-0">
                            <hr style="background: rgba(255, 255, 255,0.25);" />
                            <button
                              type="button"
                              class="btn btn-primary btn-circle btn-lg float-left collapsed"
                              data-toggle="collapse"
                              data-target="#collapseTwo"
                              aria-expanded="false"
                              aria-controls="collapse1"
                            >
                              2
                            </button>
                            <div class="stepper-text">
                              Setting up the sd card
                            </div>
                          </h5>
                        </div>
                        <div
                          id="collapseTwo"
                          class="collapse"
                          aria-labelledby="headingTwo"
                          data-parent="#accordion"
                        >
                          <div class="card-body">
                            <ol>
                              <li>
                                Get Raspbian Lite from the official
                                <a
                                  target="_blank"
                                  class="hyperlink"
                                  href="https://www.raspberrypi.org/downloads/raspbian/"
                                  >website</a
                                >
                              </li>
                              <li>
                                Download and install
                                <a
                                  target="_blank"
                                  class="hyperlink"
                                  href="https://www.balena.io/etcher/"
                                  >balenaEtcher</a
                                >
                              </li>
                              <li>
                                Insert the SD card into your computer and open
                                balenaEtcher.
                              </li>
                              <li>
                                Select the downloaded Rasbian image or zip file.
                                Select your SD card and click flash.
                              </li>
                              <li>
                                Now browse to the sd card and add a file called
                                "SSH". Just in file format, not .txt or any
                                other extension.
                              </li>
                            </ol>
                          </div>
                        </div>
                      </div>

                      <div class="card" style="border: none; background: none;">
                        <div
                          class="card-header"
                          id="heading3"
                          style="border: none; background: none;"
                        >
                          <h5 class="mb-0">
                            <hr style="background: rgba(255, 255, 255,0.25);" />
                            <button
                              type="button"
                              class="btn btn-primary btn-circle btn-lg float-left collapsed"
                              data-toggle="collapse"
                              data-target="#collapse3"
                              aria-expanded="false"
                              aria-controls="collapse2"
                            >
                              3
                            </button>
                            <div class="stepper-text">
                              Connect your Raspberry to your Computer
                            </div>
                          </h5>
                        </div>
                        <div
                          id="collapse3"
                          class="collapse"
                          aria-labelledby="heading3"
                          data-parent="#accordion"
                        >
                          <div class="card-body">
                            Insert the SD Card into your Raspberry and hook it
                            up to a power. <br />
                            From now on we are going to program the Pi using our
                            external computer. <br />
                            <ol>
                              <li>
                                Power the Pi again by using a micro usb cable so
                                the device will restart.
                              </li>
                              <li>
                                Connect a UTP or Ethernet cable to the Pi and
                                your main Computer.
                              </li>
                              <li>
                                Download and install the following program:
                                <a
                                  target="_blank"
                                  class="hyperlink"
                                  href="https://angryip.org/download/#windows"
                                  >Angry Ip Scanner</a
                                >
                              </li>
                              <li>
                                Share your network with the one of the raspberry
                                pi.
                              </li>
                              <li>
                                Open angry Ip scanner. Set your starting Ip with
                                your DNS Ip and end with .0 and set your end Ip
                                the same way but end with .255: <br />
                                start:
                                <pre
                                  class="bash-lang prettyprint prettyprinted"
                                >
192.168.137.0</pre
                                >
                                end:
                                <pre
                                  class="bash-lang prettyprint prettyprinted"
                                >
192.168.137.255</pre
                                >
                              </li>
                              <li>
                                Press start and wait till there is a name in the
                                list called Raspberry Pi Home. Remember that Ip
                                address
                              </li>
                              <li>
                                Open your terminal of preference. For this
                                project I have used Bash and will be referring
                                using the UNIX syntax.
                              </li>
                              <li>
                                Use the folling command to connect to your Pi
                                using the Pi's Ip address: <br />
                                <pre
                                  class="bash-lang prettyprint prettyprinted"
                                >
ssh pi@[your-ip-goes-here]</pre
                                >
                              </li>
                              <li>
                                Enter you password and now you will see you are
                                connected to your raspberry!
                              </li>
                              <li>
                                Now that we are here, enter the following
                                command:
                                <pre
                                  class="bash-lang prettyprint prettyprinted"
                                >
sudo raspi-config</pre
                                >
                                Browse with the arrow keys to interfaces and
                                press enter. <br />
                                From here we can enable I2C for the flick3d hat,
                                browse there with the arrow keys press enter and
                                select enable. Now you can safely exit this menu
                                by selecting finish.
                              </li>
                            </ol>
                          </div>
                        </div>
                      </div>

                      <div class="card" style="border: none; background: none;">
                        <div
                          class="card-header"
                          id="heading4"
                          style="border: none; background: none;"
                        >
                          <h5 class="mb-0">
                            <hr style="background: rgba(255, 255, 255,0.25);" />
                            <button
                              type="button"
                              class="btn btn-primary btn-circle btn-lg float-left collapsed"
                              data-toggle="collapse"
                              data-target="#collapse4"
                              aria-expanded="false"
                              aria-controls="collapse4"
                            >
                              4
                            </button>
                            <div class="stepper-text">
                              Downloading the right packages
                            </div>
                          </h5>
                        </div>
                        <div
                          id="collapse4"
                          class="collapse"
                          aria-labelledby="heading4"
                          data-parent="#accordion"
                        >
                          <div class="card-body">
                            Before we can start writing any program we need the
                            right packages installed.
                            <ol>
                              <li>
                                First update and upgrade the os, get the newest
                                version <br />
                                (This may take a while):
                                <pre
                                  class="bash-lang prettyprint prettyprinted"
                                >sudo apt-get update<br>sudo apt-get upgrade</pre>
                              </li>
                              <li>
                                Now install the right library for the 3D touch
                                sensor:
                                <pre
                                  class="bash-lang prettyprint prettyprinted"
                                >
curl -sSL https://pisupp.ly/flickcode | sudo bash</pre
                                >
                                And the following line so the sensor can work
                                <pre
                                  class="bash-lang prettyprint prettyprinted"
                                >
sudo apt-get install wiringpi</pre
                                >
                              </li>
                              <li>
                                Install git and download and install the right
                                files and cpp files from my githubpage:
                                <pre
                                  class="bash-lang prettyprint prettyprinted"
                                >
sudo apt-get install git</pre
                                >
                                Download the package:
                                <pre
                                  class="bash-lang prettyprint prettyprinted"
                                >
git clone https://github.com/Revess/ThereminPi</pre
                                >
                              </li>
                              <li>
                                Install make:
                                <pre
                                  class="bash-lang prettyprint prettyprinted"
                                >
sudo apt-get install make</pre
                                >
                              </li>
                              <li>
                                Install Jack without X11 so we can actually run
                                it. Solution found
                                <a
                                  target="_blank"
                                  class="hyperlink"
                                  href="https://www.raspberrypi.org/forums/viewtopic.php?t=198973#p1357756"
                                  >here</a
                                >
                                Run the following commands for everything to
                                work:
                                <pre
                                  class="bash-lang prettyprint prettyprinted"
                                >sudo apt-get install -y libasound2-dev libsndfile1-dev libreadline-dev libreadline6-dev libtinfo-dev<br>git clone https://github.com/jackaudio/jack2.git --depth 1<br>cd jack2<br>./waf configure<br>./waf build<br>sudo ./waf install<br>sudo ldconfig<br>sudo sh -c "echo @audio - memlock 256000 >> /etc/security/limits.conf"<br>sudo sh -c "echo @audio - rtprio 75 >> /etc/security/limits.conf"</pre>
                                Now reboot the system for everything to work:
                                <pre
                                  class="bash-lang prettyprint prettyprinted"
                                >
sudo shutdown -r now</pre
                                >
                              </li>
                            </ol>
                          </div>
                        </div>
                      </div>

                      <div class="card" style="border: none; background: none;">
                        <div
                          class="card-header"
                          id="heading5"
                          style="border: none; background: none;"
                        >
                          <h5 class="mb-0">
                            <hr style="background: rgba(255, 255, 255,0.25);" />
                            <button
                              type="button"
                              class="btn btn-primary btn-circle btn-lg float-left collapsed"
                              data-toggle="collapse"
                              data-target="#collapse5"
                              aria-expanded="false"
                              aria-controls="collapse5"
                            >
                              5
                            </button>
                            <div class="stepper-text">
                              Adding the Flick3D sensor
                            </div>
                          </h5>
                        </div>
                        <div
                          id="collapse5"
                          class="collapse"
                          aria-labelledby="heading5"
                          data-parent="#accordion"
                        >
                          <div class="card-body">
                            <ol>
                              <li>
                                The installation of the sensor hat itself is
                                pretty straight forward. Screw the standoffs in
                                place and click the hat on top of the GPIO pins.
                                Then screw the left over screws in place.
                              </li>
                              <li>
                                Now to check if everything is working correctly
                                type the following code in your terminal:
                                <pre
                                  class="bash-lang prettyprint prettyprinted"
                                >
flick-demo</pre
                                >
                                It will jump to a screen where you can read out
                                the data of the sensor. Check if everything
                                works and quit by pressing: "ctrl+c"
                              </li>
                            </ol>
                          </div>
                        </div>
                      </div>

                      <div class="card" style="border: none; background: none;">
                        <div
                          class="card-header"
                          id="heading6"
                          style="border: none; background: none;"
                        >
                          <h5 class="mb-0">
                            <hr style="background: rgba(255, 255, 255,0.25);" />
                            <button
                              type="button"
                              class="btn btn-primary btn-circle btn-lg float-left collapsed"
                              data-toggle="collapse"
                              data-target="#collapse6"
                              aria-expanded="false"
                              aria-controls="collapse6"
                            >
                              6
                            </button>
                            <div class="stepper-text">
                              Writing the program
                            </div>
                          </h5>
                        </div>
                        <div
                          id="collapse6"
                          class="collapse"
                          aria-labelledby="heading6"
                          data-parent="#accordion"
                        >
                          <div class="card-body">
                            <ol>
                              <li>
                                For this project we will be using C++ to write
                                the software. Not only because it will be faster
                                then Python or any other software. Also because
                                there is no good synthesizer library for Python.
                                Of course using PureData as the synthesizer is
                                an option, but I want to stay away from for this
                                project. All you need for program to talk to
                                Jack is the following code from my GitHub
                                repository (already downloaded at step 4):<br />
                                <a
                                  target="_blank"
                                  class="hyperlink"
                                  href="https://github.com/Revess/ThereminPi"
                                  >here</a
                                ><br />
                              </li>
                              <li>
                                Now that you have the following files from my
                                github: main file, an oscillator class and a
                                sine.cpp subclass etc. These files will form the
                                basics for the Theremin. In the main.cpp you
                                will find code that is responsible for handling
                                the flick sensor input. Let me go ahead and
                                explain how each component works: <br />
                                <ul>
                                  <li>
                                    At the top of the code you will find the
                                    gesture handlers, these pick up the data
                                    from the sensor and divide them based on the
                                    message they get from the "flick.h" file.<br />
                                    In the main itself you will also find the
                                    place where the Flick class will be created.
                                    Via this class the program will talk to the
                                    sensor. To keep asking the sensor if the
                                    data has changed we are using the
                                    "flick.poll();" function. As you can see we
                                    are using this in a while loop to ensure
                                    this keeps updating until the user decides
                                    to close the program.
                                  </li>
                                  <li>
                                    In the main.cpp you will also find the audio
                                    loop where we connect to Jack. Upon
                                    connecting to jack we will send out pieces
                                    of audio according to the buffer size set by
                                    your audio device. To fill the buffer we are
                                    talking to the oscillator class. In the
                                    class we are requesting a new calculation
                                    for each place in the buffer. With
                                    "oscillator->getSample();" we are requesting
                                    the current sample value of the oscillator,
                                    with "oscillator->tick();" we tell the
                                    oscillator to move the phase by one sample.
                                    This way the buffer will first read and then
                                    write the oscillator.
                                  </li>
                                  <li>
                                    The oscillator.cpp will take care of
                                    calculating the current phase. For
                                    everything everything to working correctly
                                    we need another class that will take care of
                                    calculating the sine wave. Luckily the sine
                                    class will take care of this, at every phase
                                    position the sine will be calculated by
                                    using a the "sin()" function of c++.
                                  </li>
                                  <li>
                                    In the while loop where the flick.poll();
                                    gets updated you can now add yourself user
                                    control to the sensor. Store each type of
                                    data in a variable (x=width, y=depth,
                                    z=height). Now you can control the frequency
                                    of the sine wave by using the following
                                    function; "oscillator->setFrequency(double
                                    frequency)", and change the amplitude by
                                    using; "oscillator->setAmplitude(double
                                    amplitude)".
                                  </li>
                                </ul>
                                <br />
                                All these different parts give the theremin its
                                functionality. Feel free to add your own parts
                                of code of course!
                              </li>
                              <li>
                                For the last step you need to compile the code
                                using make. Type make into your terminal when
                                inside the thereminPi folder. Now the code will
                                compile the program to the bin folder. Run the
                                code by using the following command line:
                                <pre
                                  class="bash-lang prettyprint prettyprinted"
                                >
./bin/thereminPi</pre
                                >
                              </li>
                            </ol>
                          </div>
                        </div>
                      </div>

                      <div class="card" style="border: none; background: none;">
                        <div
                          class="card-header"
                          id="heading7"
                          style="border: none; background: none;"
                        >
                          <h5 class="mb-0">
                            <hr style="background: rgba(255, 255, 255,0.25);" />
                            <button
                              type="button"
                              class="btn btn-primary btn-circle btn-lg float-left collapsed"
                              data-toggle="collapse"
                              data-target="#collapse7"
                              aria-expanded="false"
                              aria-controls="collapse7"
                            >
                              7
                            </button>
                            <div class="stepper-text">
                              Creating the startup script
                            </div>
                          </h5>
                        </div>
                        <div
                          id="collapse7"
                          class="collapse"
                          aria-labelledby="heading7"
                          data-parent="#accordion"
                        >
                          <div class="card-body">
                            Now that the program has been written it only needs
                            to be added to the startup script of the Pi. For
                            this to work the program needs to be added to
                            systemd.
                            <ol>
                              <li>
                                Copy the following file from the theremin folder
                                to the systemd folder:
                                <pre
                                  class="bash-lang prettyprint prettyprinted"
                                >
sudo cp /~/thereminPi/theremin.service /etc/systemd/system/theremin.service</pre
                                >
                              </li>
                              <li>
                                Now restart the deamon service:
                                <pre
                                  class="bash-lang prettyprint prettyprinted"
                                >
sudo systemctl daemon-reload</pre
                                >
                              </li>
                              <li>
                                enable your compiled script:
                                <pre
                                  class="bash-lang prettyprint prettyprinted"
                                >
sudo systemctl enable theremin.service</pre
                                >
                              </li>
                              <li>
                                reboot the system:
                                <pre
                                  class="bash-lang prettyprint prettyprinted"
                                >
sudo reboot</pre
                                >
                              </li>
                            </ol>
                            In the "theremin.service" file you can specify the
                            file location at the command that says "ExecStart"
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <!-- A spacer and a line for asiatic -->
            <div class="container w-100 justify-content-center">
              <svg style="width:100%;" height="50">
                <rect
                  height="50"
                  style="fill:rgba(0, 0, 0, 0);stroke:none; width:100%;"
                />
              </svg>
            </div>
            <div class="container w-100 justify-content-center" id="fadeBottom">
              <svg style="width:100%;" height="2">
                <rect
                  height="2"
                  width="5000"
                  style="fill:rgb(0, 0, 0);stroke:none;"
                />
              </svg>
            </div>
          </article>
        </div>
      </section>

      <section id="Obstacles" class="pb-0 subSections">
        <div>
          <article>
            <div class="container w-70">
              <div class="row w-100 mx-auto">
                <div class="col-12 text-center">
                  <h1 class="text-left pb-3" id="fadeTop">
                    Obstacles
                  </h1>
                  <h3 class="text-left" id="fadeRight">
                    Picking the sensor
                  </h3>
                  <div class="lead text-left" id="fadeLeft">
                    Already the first obstacle I came across, what sensor to use
                    for this project? The basis is very simple, measure the
                    distance. After doing some research I settled with two kinds
                    of sensors to use:<br />
                    <ul class="text-left">
                      <li>
                        Infrared
                      </li>
                      <li>
                        Ultrasonic
                      </li>
                    </ul>
                    Very quickly I came to the conclusion, especially after
                    trying this myself and buying
                    <a target="_blank" href="https://tinyurl.com/yyz7fyqt"
                      >this</a
                    >
                    sensor, that there is a problem with using these sensors. A
                    theremin needs two of them. These sensors emit some kind of
                    waveform at a high frequency. When the waveform hits an
                    object it gets reflected back to the receiver. The problem
                    gets created when you start using two of these sensors at a
                    short distance from eachother, they will start interfering
                    with eachother. The other problem is that the sensors are
                    using analog signals so we need to convert that first and
                    adds extra complexity to our circuit. So from here it was
                    back to the drawing board.
                  </div>
                  <br />
                  <p class="lead text-left" id="fadeRight">
                    My teacher Hans Leeuw borrowed me a capacitive 3D touch
                    sensor he used for a project years ago. First I tested the
                    device on my Windows 10 machines and the device worked
                    perfectly! The next step was to move to the RPi. The device
                    provided big SDK package written in c++. After using 'make'
                    to create a runnable application for Linux I plugged the
                    device in and nothing. I did not get the device to talk to
                    the Raspberry and went back to the drawing board again.
                    Three time's a charm and I found the right sensor, a hat for
                    the RPi. The sensor just snaps right into place and talks to
                    the Raspberry over an I2C connection.
                  </p>

                  <h3 class="text-left" id="fadeRight">
                    Generating audio
                  </h3>
                  <div class="lead text-left" id="fadeLeft">
                    This has been a real struggle, which audio library am I
                    going to be using. After a lot of trying and failing I
                    decided
                    <a
                      target="_blanck"
                      class="hyperlink"
                      href="http://www.jackaudio.org/"
                      >Jack</a
                    >
                    is my best option. Portaudio was too difficult to learn. For
                    Python there were no good working synthesizers available.<br />
                    Using Jack introduced its own problems, Jack needs x11 to
                    run for some reason. This is a problem, because when running
                    the RPi headless (without a monitor) x11 was disabled and I
                    was unable to run Jack. After a lot of research I came
                    across this forum comment which suggested building Jack
                    yourself and installing it by hand. Which I did and it
                    worked! So for Jack to run on a RPi headless I would like to
                    refer to step 4, substep 5, on how to do this yourself.
                  </div>
                  <br />

                  <h3 class="text-left" id="fadeRight">
                    C++ and the Pi
                  </h3>
                  <div class="lead text-left" id="fadeLeft">
                    Here comes a small list of things that will break your code
                    when using C++ on a RPi:
                    <ul>
                      <li>
                        Queue; very inconsistent for some reason. Sometimes the
                        queue overloads and will make the code crash. Tried to
                        use this to make a nice data smoother.
                      </li>
                      <li>
                        Switch; always use the "default:" at the end of your
                        switch, always.
                      </li>
                      <li>
                        Order; Think of the order of things in your code very
                        carefully. Sometimes variables get updated in the wrong
                        ways.
                      </li>
                    </ul>
                  </div>
                  <br />

                  <h3 class="text-left" id="fadeRight">
                    Startup script
                  </h3>
                  <div class="lead text-left" id="fadeLeft">
                    For the startup script on the Pi I would definitely
                    recommend using systemd over rc.local Systemd runs very
                    stable and also just works! Make sure to use the way of
                    referring to the file location at the "ExecStart" command in
                    the .service file.
                  </div>
                  <br />
                </div>
              </div>
            </div>
            <!-- A spacer for asiatic -->
            <div class="container w-100 justify-content-center">
              <svg style="width:100%;" height="100">
                <rect
                  height="100"
                  style="fill:rgba(0, 0, 0, 0);stroke:none; width:100%;"
                />
              </svg>
            </div>
          </article>
        </div>
      </section>
    </main>

    <!-- Footer -->
    <footer class="footer">
      <div class="container">
        <span class="w-100 d-lg-none d-block"></span>
        <div class="row w-100 mx-auto">
          <div class="col-4 text-center mt-2">
            <p class="text-light ">
              Created with Bootstrap 4
            </p>
          </div>
          <div class="col-8 text-center mt-2">
            <div class="row">
              <div class="col-12 text-center">
                <p class="text-light">Social media: <br /></p>
              </div>
            </div>
            <div class="row">
              <div class="col-12 justify-content-center pb-2">
                <a
                  class="fab fa-twitter fa-2x mt-4 twitter-follow-button grow"
                  href="https://twitter.com/revess3?ref_src=twsrc%5Etfw"
                  style="text-decoration: none; color: rgb(56,161,243);"
                  data-show-count="false"
                ></a>
                <a
                  class="fab fa-github fa-2x mt-4 grow"
                  href="https://github.com/Revess"
                  style="text-decoration: none; color: #ffffff;"
                  target="_blank"
                  data-show-count="false"
                ></a>
                <a
                  class="fab fa-spotify fa-2x mt-4 grow"
                  href="https://open.spotify.com/artist/59LdOI4lUcKDvOjC5YQoKB"
                  style="text-decoration: none; color: #1ED761;"
                  target="_blank"
                  data-show-count="false"
                ></a>
                <a
                  class="fab fa-soundcloud fa-2x mt-4 grow"
                  href="https://soundcloud.com/re_vess"
                  style="text-decoration: none; color: #FE6D35;"
                  target="_blank"
                  data-show-count="false"
                ></a>
                <a
                  class="fab fa-linkedin fa-2x mt-4 grow"
                  href="https://www.linkedin.com/in/bas-m-35b479132/"
                  style="text-decoration: none; color: #0077B5;"
                  target="_blank"
                  data-show-count="false"
                ></a>
                <a
                  class="fab fa-youtube fa-2x mt-4 grow"
                  href="https://www.youtube.com/re_vess?sub_confirmation=1"
                  target="_blank"
                  style="text-decoration: none; color: #FF0000;"
                  data-show-count="false"
                ></a>
                <a
                  class="fab fa-instagram fa-2x mt-4 grow"
                  href="https://www.instagram.com/re_vess/"
                  style="text-decoration: none; color: #fb3958;"
                  target="_blank"
                  data-show-count="false"
                ></a>
              </div>
            </div>
          </div>
        </div>
      </div>
    </footer>
    <script src="../../javascript/animations.js"></script>
    <script src="../../javascript/fadeAnimationMainpage.js"></script>
  </body>
</html>
